# Unity 프로젝트 기획서

## 게임 설명

1. 제목 
길건너 친구들 모작

2. 조작 
wasd로 전후좌우로 이동 혹은 마우스 클릭으로 전진, 클릭 후 드래그로 방향 전환하여 이동

3. 목적 

  움직이는 차량, 지하철, 강 등의 방해물을 피하여 최대한 앞으로 전진하는 것
  동전을 모아 캐릭터 해금 (미구현)

## 개발 환경

  기간 : 22. 07. 25 ~ 22. 08. 03, 10일
  
  인원 : 1인
  
  사용 툴 : Unity
  
  외부 패키지 :
  5 animated Voxel animals - Voxelguy
  Gold Coins - Devtoid, 
  Freight Train - Maker Games Studio
  Vehicles - PolyPack - Alstra Infinite

## 시연 영상

https://youtu.be/e5hveE6gvlg

## 테크 이슈

    1.  맵의 임의 생성과, 그 과정에서 지나지 못하는 지형(강 위의 꽃 바로 뒤에 나무, 꽃이 있는 강이 연달아 있는데 꽃이 어긋나 있는 경우 등)의 생성

    2.  맵에서 스폰하는 오브젝트의 임의 선정

    3.  맵에서 생성되는 타일 종류에 가중치 적용

    4.  오브젝트의 생성과 파괴에 따른 자원 낭비, 특히 움직이는 오브젝트의 관리

    5.  통나무를 올라탔을 때 플레이어가 통나무를 따라 움직여야 하는 문제

    6.  플레이어가 포물선으로 점프하듯이 이동해야하는 문제

## 해결 방안

    1.  생성하고 싶은 타일들을 프리팹으로 구성해 맵 생성기에 적용하였다. 
        지나지 못하는 지형은 꽃이 있는 강 다음에는 또 꽃이 있는 강이 오지 못하도록 하거나, 나무의 랜덤 스폰은 홀수 좌표, 꽃은 짝수 좌표에 생성되도록 하는 방식으로 해결하였다.

    2.  스폰되는 오브젝트를 프리팹으로 여러 개 구성해 GameObject 배열에 할당하고 임의 인덱스를 받아 할당, 스폰한다.

    3.  float의 배열을 만들고 각 타일마다 가중치를 정해 할당, 그 합을 구한다. 
        이 합과 랜덤 값을 비교해, 랜덤 값이 가리키는 구역의 타일을 스폰한다.
    
    4.  오브젝트 풀링을 적용하였다. 필요한 오브젝트의 수는 타일의 x축 가로 크기를 오브젝트의 속도와 스폰 쿨타임의 곱으로 나눠 구한다.

    5.  통나무의 태그를 지정하고 이와 플레이어가 충돌하였을 때, 통나무의 속도와 방향 그대로 플레이어가 움직이도록 하였다.
        통나무의 움직임이 이루어지는 FixedUpdate 이벤트에서 플레이어가 통나무와 같이 움직이고, Update 이벤트에서 플레이어가 조작에 따라 움직이도록 하여 통나무의 위에서 플레이어가 자유롭게 움직이도록 구현하였다.
        
    6.  베지어 곡선을 이용하여 플레이어의 움직임을 구현한다. 
        조작키 입력이 들어오면 플레이어의 이동 목표 지점이 정해지고, 그 지점을 목표로 2차 베지어 곡선을 구하여 이에 따라 플레이어가 움직이도록 하였다.


## 링크
프로젝트가 완료된 후 `<a>` 태그의 `href` 속성에 관련된 링크를 작성합니다.

<a href="https://www.youtube.com"><img src="https://img.shields.io/badge/Youtube-FF0000?style=for-the-badge&logo=Youtube&logoColor=white"></a>
